<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register - Time Tracking System</title>
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/accessibility.css">
</head>
<body>
    <!-- Accessibility Controls -->
    <button id="accessibility-toggle" 
            class="floating-btn" 
            aria-label="Toggle accessibility panel"
            aria-expanded="false"
            aria-controls="accessibility-panel">
        <span aria-hidden="true">â™¿</span>
        <span class="sr-only">Accessibility Settings</span>
    </button>

    <div id="accessibility-panel" class="accessibility-panel" role="region" aria-label="Accessibility settings" hidden>
        <h2 id="accessibility-heading">Accessibility Settings</h2>
        <div class="accessibility-controls">
            <div class="control-group">
                <label for="screen-reader-toggle">
                    <input type="checkbox" id="screen-reader-toggle" checked>
                    Screen Reader Announcements
                </label>
            </div>
            <div class="control-group">
                <label for="high-contrast-toggle">
                    <input type="checkbox" id="high-contrast-toggle">
                    High Contrast Mode
                </label>
            </div>
            <div class="control-group">
                <label for="text-size">Text Size:</label>
                <select id="text-size" aria-label="Select text size">
                    <option value="normal">Normal (100%)</option>
                    <option value="large">Large (125%)</option>
                    <option value="xlarge">Extra Large (150%)</option>
                    <option value="xxlarge">Very Large (200%)</option>
                </select>
            </div>
            <div class="control-group">
                <label for="button-size">Button Size:</label>
                <select id="button-size" aria-label="Select button size">
                    <option value="normal">Normal</option>
                    <option value="large">Large</option>
                    <option value="xlarge">Extra Large</option>
                </select>
            </div>
            <div class="control-group">
                <label for="focus-indicator">
                    <input type="checkbox" id="focus-indicator" checked>
                    Enhanced Focus Indicators
                </label>
            </div>
            
            <hr style="margin: 1rem 0; border: none; border-top: 1px solid #e2e8f0;">
            
            <h3 style="font-size: 0.9rem; margin-bottom: 0.5rem; color: #4a5568;">Speech Settings</h3>
            
            <div class="control-group">
                <label for="speech-rate">Speech Rate:</label>
                <input type="range" id="speech-rate" min="0.5" max="2" step="0.1" value="1" aria-label="Adjust speech rate">
                <span id="speech-rate-value">1.0x</span>
            </div>
            
            <div class="control-group">
                <label for="speech-pitch">Speech Pitch:</label>
                <input type="range" id="speech-pitch" min="0.5" max="2" step="0.1" value="1" aria-label="Adjust speech pitch">
                <span id="speech-pitch-value">1.0x</span>
            </div>
            
            <div class="control-group">
                <label for="speech-volume">Speech Volume:</label>
                <input type="range" id="speech-volume" min="0" max="1" step="0.1" value="1" aria-label="Adjust speech volume">
                <span id="speech-volume-value">100%</span>
            </div>
            
            <div class="control-group">
                <button id="test-speech" class="btn btn-secondary" style="width: 100%; margin-top: 0.5rem;">Test Speech</button>
            </div>
        </div>
    </div>

    <!-- Live Region for Screen Reader Announcements -->
    <div id="sr-announcements" class="sr-only" role="status" aria-live="polite" aria-atomic="true"></div>

    <main class="auth-container">
        <div class="auth-card">
            <h1 tabindex="-1" id="main-heading">Create Account</h1>
            <p class="subtitle">Register for Time Tracking System</p>

            <form id="register-form" aria-labelledby="main-heading">
                <div class="form-group">
                    <label for="name">Full Name</label>
                    <input type="text" 
                           id="name" 
                           name="name" 
                           required 
                           autocomplete="name"
                           aria-required="true"
                           aria-describedby="name-error">
                    <span id="name-error" class="error-message" role="alert"></span>
                </div>

                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" 
                           id="email" 
                           name="email" 
                           required 
                           autocomplete="email"
                           aria-required="true"
                           aria-describedby="email-error">
                    <span id="email-error" class="error-message" role="alert"></span>
                </div>

                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" 
                           id="password" 
                           name="password" 
                           required 
                           autocomplete="new-password"
                           minlength="8"
                           aria-required="true"
                           aria-describedby="password-help password-error">
                    <span id="password-help" class="help-text">Must be at least 8 characters</span>
                    <span id="password-error" class="error-message" role="alert"></span>
                </div>

                <div class="form-group">
                    <label for="password-confirm">Confirm Password</label>
                    <input type="password" 
                           id="password-confirm" 
                           name="passwordConfirm" 
                           required 
                           autocomplete="new-password"
                           minlength="8"
                           aria-required="true"
                           aria-describedby="password-confirm-error">
                    <span id="password-confirm-error" class="error-message" role="alert"></span>
                </div>

                <button type="submit" class="btn btn-primary" id="register-btn">
                    <span>Create Account</span>
                </button>

                <div id="form-error" class="error-message" role="alert" aria-live="assertive"></div>
            </form>

            <div class="auth-links">
                <p>Already have an account? <a href="login.html">Login here</a></p>
            </div>
        </div>
    </main>

    <script src="js/pocketbase-client.js"></script>
    <script src="js/accessibility.js"></script>
    <script src="js/auth.js"></script>
</body>
</html>
